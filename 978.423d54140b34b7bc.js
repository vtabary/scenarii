"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[978],{8978:(T,m,c)=>{c.r(m),c.d(m,{RunnerModule:()=>F});var i=c(9808),x=c(1431),l=c(5825),h=c(4004),e=c(1223),a=c(8466),d=c(7688),f=c(7826);function Z(t,r){if(1&t&&(e.TgZ(0,"a",12),e._uU(1,"Back"),e.qZA()),2&t){const n=e.oxw().ngIf;e.MGl("routerLink","/run/",null==n.previous||null==n.previous.scenario?null:n.previous.scenario.id,"")}}function _(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",2),e.TgZ(1,"scenarii-title"),e._uU(2,"Scenario "),e.TgZ(3,"scenarii-badge"),e._uU(4),e.qZA(),e.qZA(),e.TgZ(5,"main",3),e.TgZ(6,"div",4),e.TgZ(7,"p",5),e._uU(8),e.qZA(),e.TgZ(9,"div",6),e.TgZ(10,"span"),e._uU(11),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",7),e.YNc(13,Z,2,1,"a",8),e.TgZ(14,"div",9),e.TgZ(15,"button",10),e.NdJ("click",function(){return e.CHM(n),e.oxw().onFail()}),e._uU(16," It's not valid "),e.qZA(),e.TgZ(17,"button",11),e.NdJ("click",function(){return e.CHM(n),e.oxw().onValidate()}),e._uU(18," It's valid "),e.qZA(),e.qZA(),e.TgZ(19,"a",12),e._uU(20,"Skip for now"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const n=r.ngIf,o=e.oxw();e.xp6(4),e.AsE("",n.index+1," / ",o.length,""),e.xp6(4),e.hij(" ",n.scenario.category," "),e.xp6(3),e.Oqu(n.scenario.message),e.xp6(2),e.Q6J("ngIf",null==n.previous||null==n.previous.scenario?null:n.previous.scenario.id),e.xp6(6),e.MGl("routerLink","/run/",(null==n.next||null==n.next.scenario?null:n.next.scenario.id)||"done","")}}function C(t,r){1&t&&e._uU(0," Unknown Scenario ")}let A=(()=>{class t{constructor(n,o,s){this.activatedRoute=n,this.scenarios=o,this.router=s,this.length=0,this.scenario$=this.activatedRoute.data.pipe((0,h.U)(p=>{const u=p.scenario;return this.scenario=u,u})),this.length=this.scenarios.length}onValidate(){var n;!(null===(n=this.scenario)||void 0===n?void 0:n.scenario.id)||(this.scenario.report.valid=!0,this.scenarios.set(this.scenario),this.goToNextPage())}onFail(){var n;!(null===(n=this.scenario)||void 0===n?void 0:n.scenario.id)||(this.scenario.report.valid=!1,this.scenarios.set(this.scenario),this.goToNextPage())}goToNextPage(){var n,o,s;(null===(o=null===(n=this.scenario)||void 0===n?void 0:n.next)||void 0===o?void 0:o.scenario.id)?this.router.navigate(["/run",null===(s=this.scenario.next)||void 0===s?void 0:s.scenario.id]):this.router.navigateByUrl("/run/done")}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(l.gz),e.Y36(a.z),e.Y36(l.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["scenarii-step"]],decls:4,vars:4,consts:[["class","flex flex-col flex-auto",4,"ngIf","ngIfElse"],["unknownScenario",""],[1,"flex","flex-col","flex-auto"],[1,"p-3","flex-auto","flex","flex-col"],[1,"flex-auto","justify-center","items-center","flex","flex-col"],[1,"md:text-xl"],[1,"text-xl","md:text-3xl","flex-auto","flex","flex-col","justify-center"],[1,"flex","flex-row","items-center"],[3,"routerLink",4,"ngIf"],[1,"flex-grow","text-center"],["type","submit",1,"mr-5","inline-flex","justify-center","py-2","px-4","border","border-transparent","shadow-sm","text-sm","font-medium","rounded-md","text-white","bg-red-600","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500",3,"click"],["type","submit",1,"inline-flex","justify-center","py-2","px-4","border","border-transparent","shadow-sm","text-sm","font-medium","rounded-md","text-white","bg-green-600","hover:bg-green-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-green-500",3,"click"],[3,"routerLink"]],template:function(n,o){if(1&n&&(e.YNc(0,_,21,6,"div",0),e.ALo(1,"async"),e.YNc(2,C,1,0,"ng-template",null,1,e.W1O)),2&n){const s=e.MAs(3);e.Q6J("ngIf",e.lcZ(1,2,o.scenario$))("ngIfElse",s)}},directives:[i.O5,d.r,f.F,l.yS],pipes:[i.Ov],styles:["[_nghost-%COMP%]{display:contents}"]}),t})(),S=(()=>{class t{constructor(n,o){this.router=n,this.scenarios=o}resolve(){const o=this.scenarios.getAll().find(s=>void 0===s.report.valid);return this.router.navigateByUrl(o?`/run/${o.scenario.id}`:"/run/done")}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(l.F0),e.LFG(a.z))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function y(t,r,n,o,s,p,u){try{var v=t[p](u),g=v.value}catch(w){return void n(w)}v.done?r(g):Promise.resolve(g).then(o,s)}const M=[{path:"done",component:(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["scenarii-end"]],decls:7,vars:0,consts:[[1,"flex","flex-col","flex-auto"],[1,"p-3","flex-auto","flex","flex-col"],[1,"flex-auto","justify-center","items-center","flex","flex-col"],[1,"text-xl","md:text-3xl"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"scenarii-title"),e._uU(2,"Done !"),e.qZA(),e.TgZ(3,"main",1),e.TgZ(4,"div",2),e.TgZ(5,"p",3),e._uU(6,"And it's done !"),e.qZA(),e.qZA(),e.qZA(),e.qZA())},directives:[d.r],styles:["[_nghost-%COMP%]{display:contents}"]}),t})()},{path:":id",component:A,resolve:{scenario:(()=>{class t{constructor(n,o){this.router=n,this.scenarios=o}resolve(n){var o=this;return function R(t){return function(){var r=this,n=arguments;return new Promise(function(o,s){var p=t.apply(r,n);function u(g){y(p,o,s,u,v,"next",g)}function v(g){y(p,o,s,u,v,"throw",g)}u(void 0)})}}(function*(){const s=o.scenarios.get(n.params.id);if(s)return Object.assign(Object.assign({},s),{next:o.scenarios.next(n.params.id),previous:o.scenarios.previous(n.params.id),length:o.scenarios.length});yield o.router.navigateByUrl("/")})()}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(l.F0),e.LFG(a.z))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}},{path:"",resolve:{scenario:S},children:[]}];let U=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[l.Bz.forChild(M)],l.Bz]}),t})(),F=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[i.ez,x.m,U]]}),t})()},7688:(T,m,c)=>{c.d(m,{r:()=>e});var i=c(1223),x=c(9808);function l(a,d){1&a&&(i.ynx(0),i._uU(1,"No title"),i.BQk())}const h=["*"];let e=(()=>{class a{}return a.\u0275fac=function(f){return new(f||a)},a.\u0275cmp=i.Xpm({type:a,selectors:[["scenarii-title"]],ngContentSelectors:h,decls:6,vars:1,consts:[[1,"bg-white","p-3","shadow-sm","z-10"],[1,"text-xl"],["ref",""],[4,"ngIf"]],template:function(f,Z){if(1&f&&(i.F$t(),i.TgZ(0,"div",0),i.TgZ(1,"h1",1),i.TgZ(2,"span",null,2),i.Hsn(4),i.qZA(),i.YNc(5,l,2,0,"ng-container",3),i.qZA(),i.qZA()),2&f){const _=i.MAs(3);i.xp6(5),i.Q6J("ngIf",!_.hasChildNodes())}},directives:[x.O5],styles:["[_nghost-%COMP%]{display:contents}"]}),a})()}}]);